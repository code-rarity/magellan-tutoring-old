/* Source and licensing information for the line(s) below can be found at http://www.magellantutoring.com/core/modules/quickedit/js/util.js. */
(function(i,t){t.quickedit.util=t.quickedit.util||{};t.quickedit.util.constants={};t.quickedit.util.constants.transitionEnd='transitionEnd.quickedit webkitTransitionEnd.quickedit transitionend.quickedit msTransitionEnd.quickedit oTransitionEnd.quickedit';t.quickedit.util.buildUrl=function(i,e){var n=i.split('/');return t.formatString(decodeURIComponent(e),{'!entity_type':n[0],'!id':n[1],'!field_name':n[2],'!langcode':n[3],'!view_mode':n[4]})};t.quickedit.util.networkErrorModal=function(e,n){var a=i('<div>'+n+'</div>'),o=t.dialog(a.get(0),{title:e,dialogClass:'quickedit-network-error',buttons:[{text:t.t('OK'),click:function(){o.close()},primary:!0}],create:function(){i(this).parent().find('.ui-dialog-titlebar-close').remove()},close:function(t){i(t.target).remove()}});o.showModal()};t.quickedit.util.form={load:function(i,e){var n=i.fieldID,o=t.ajax({url:t.quickedit.util.buildUrl(n,t.url('quickedit/form/!entity_type/!id/!field_name/!langcode/!view_mode')),submit:{nocssjs:i.nocssjs,reset:i.reset},error:function(i,e){var a=t.quickedit.metadata.get(n,'label'),c=t.t('Could not load the form for <q>@field-label</q>, either due to a website problem or a network connection problem.<br>Please try again.',{'@field-label':a});t.quickedit.util.networkErrorModal(t.t('Network problem!'),c);var o=t.quickedit.app.model.get('activeField');o.set('state','candidate')}});o.commands.quickeditFieldForm=function(i,n,o){e(n.data,i);t.ajax.instances[this.instanceIndex]=null};o.execute()},ajaxifySaving:function(i,e){var n={url:e.closest('form').attr('action'),setClick:!0,event:'click.quickedit',progress:!1,submit:{nocssjs:i.nocssjs,other_view_modes:i.other_view_modes},success:function(t,i){var e=this;Object.keys(t||{}).forEach(function(n){if(t[n].command&&e.commands[t[n].command]){e.commands[t[n].command](e,t[n],i)}})},base:e.attr('id'),element:e[0]};return t.ajax(n)},unajaxifySaving:function(t){i(t.element).off('click.quickedit')}}})(jQuery,Drupal);
/* Source and licensing information for the above line(s) can be found at http://www.magellantutoring.com/core/modules/quickedit/js/util.js. */