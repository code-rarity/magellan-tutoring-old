/* Source and licensing information for the line(s) below can be found at http://www.magellantutoring.com/core/modules/quickedit/js/views/FieldDecorationView.js. */
(function(t,i,e){e.quickedit.FieldDecorationView=i.View.extend({_widthAttributeIsEmpty:null,events:{'mouseenter.quickedit':'onMouseEnter','mouseleave.quickedit':'onMouseLeave',click:'onClick','tabIn.quickedit':'onMouseEnter','tabOut.quickedit':'onMouseLeave'},initialize:function(t){this.editorView=t.editorView;this.listenTo(this.model,'change:state',this.stateChange);this.listenTo(this.model,'change:isChanged change:inTempStore',this.renderChanged)},remove:function(){this.setElement();i.View.prototype.remove.call(this)},stateChange:function(t,e){var i=t.previous('state'),a=e;switch(a){case'inactive':this.undecorate();break;case'candidate':this.decorate();if(i!=='inactive'){this.stopHighlight();if(i!=='highlighted'){this.model.set('isChanged',!1);this.stopEdit()}};this._unpad();break;case'highlighted':this.startHighlight();break;case'activating':this.prepareEdit();break;case'active':if(i!=='activating'){this.prepareEdit()};if(this.editorView.getQuickEditUISettings().padding){this._pad()};break;case'changed':this.model.set('isChanged',!0);break;case'saving':break;case'saved':break;case'invalid':break}},renderChanged:function(){this.$el.toggleClass('quickedit-changed',this.model.get('isChanged')||this.model.get('inTempStore'))},onMouseEnter:function(t){var i=this;i.model.set('state','highlighted');t.stopPropagation()},onMouseLeave:function(t){var i=this;i.model.set('state','candidate',{reason:'mouseleave'});t.stopPropagation()},onClick:function(t){this.model.set('state','activating');t.preventDefault();t.stopPropagation()},decorate:function(){this.$el.addClass('quickedit-candidate quickedit-editable')},undecorate:function(){this.$el.removeClass('quickedit-candidate quickedit-editable quickedit-highlighted quickedit-editing')},startHighlight:function(){var t=this;t.$el.addClass('quickedit-highlighted')},stopHighlight:function(){this.$el.removeClass('quickedit-highlighted')},prepareEdit:function(){this.$el.addClass('quickedit-editing');if(this.editorView.getQuickEditUISettings().popup){this.$el.addClass('quickedit-editor-is-popup')}},stopEdit:function(){this.$el.removeClass('quickedit-highlighted quickedit-editing');if(this.editorView.getQuickEditUISettings().popup){this.$el.removeClass('quickedit-editor-is-popup')};t('.quickedit-candidate').addClass('quickedit-editable')},_pad:function(){if(this.$el.data('quickedit-padded')){return};var i=this;if(this.$el[0].style.width===''){this._widthAttributeIsEmpty=!0;this.$el.addClass('quickedit-animate-disable-width').css('width',this.$el.width())};var t=this._getPositionProperties(this.$el);setTimeout(function(){i.$el.removeClass('quickedit-animate-disable-width');i.$el.css({position:'relative',top:t.top-5+'px',left:t.left-5+'px','padding-top':t['padding-top']+5+'px','padding-left':t['padding-left']+5+'px','padding-right':t['padding-right']+5+'px','padding-bottom':t['padding-bottom']+5+'px','margin-bottom':t['margin-bottom']-10+'px'}).data('quickedit-padded',!0)},0)},_unpad:function(){if(!this.$el.data('quickedit-padded')){return};var i=this;if(this._widthAttributeIsEmpty){this.$el.addClass('quickedit-animate-disable-width').css('width','')};var t=this._getPositionProperties(this.$el);setTimeout(function(){i.$el.removeClass('quickedit-animate-disable-width');i.$el.css({position:'relative',top:t.top+5+'px',left:t.left+5+'px','padding-top':t['padding-top']-5+'px','padding-left':t['padding-left']-5+'px','padding-right':t['padding-right']-5+'px','padding-bottom':t['padding-bottom']-5+'px','margin-bottom':t['margin-bottom']+10+'px'})},0);this.$el.removeData('quickedit-padded')},_getPositionProperties:function(t){var e=void 0,d={};var a=['top','left','bottom','right','padding-top','padding-left','padding-right','padding-bottom','margin-bottom'],s=a.length;for(var i=0;i<s;i++){e=a[i];d[e]=parseInt(this._replaceBlankPosition(t.css(e)),10)};return d},_replaceBlankPosition:function(t){if(t==='auto'||!t){t='0px'};return t}})})(jQuery,Backbone,Drupal);
/* Source and licensing information for the above line(s) can be found at http://www.magellantutoring.com/core/modules/quickedit/js/views/FieldDecorationView.js. */