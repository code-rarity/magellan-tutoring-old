/* Source and licensing information for the line(s) below can be found at http://magellantutoring.com/themes/bootstrap/js/attributes.js. */
(function(t,e){var s=function(t){this.data={};this.data['class']=[];this.merge(t)};s.prototype.toString=function(){var a='',s,t,r=function(t){return t&&t.toString().replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;')||''},i=this.getData();for(s in i){if(!i.hasOwnProperty(s))continue;t=i[s];if(e.isFunction(t))t=t();if(e.isObject(t))t=e.values(t);if(e.isArray(t))t=t.join(' ');a+=' '+r(s)+'="'+r(t)+'"'};return a};s.prototype.toPlainObject=function(){var a={};var s,t,i=this.getData();for(s in i){if(!i.hasOwnProperty(s))continue;t=i[s];if(e.isFunction(t))t=t();if(e.isObject(t))t=e.values(t);if(e.isArray(t))t=t.join(' ');a[s]=t};return a};s.prototype.addClass=function(t){var e=Array.prototype.slice.call(arguments);this.data['class']=this.sanitizeClasses(this.data['class'].concat(e));return this};s.prototype.exists=function(t){return this.data[t]!==void(0)&&this.data[t]!==null};s.prototype.get=function(t,e){if(!this.exists(t))this.data[t]=e;return this.data[t]};s.prototype.getData=function(){return e.extend({},this.data)};s.prototype.getClasses=function(){return this.get('class',[])};s.prototype.hasClass=function(t){t=this.sanitizeClasses(Array.prototype.slice.call(arguments));var a=this.getClasses();for(var s=0,i=t.length;s<i;s++){if(e.indexOf(a,t[s])===-1){return!1}};return!0};s.prototype.merge=function(i,a){if(!i){return this};if(i instanceof t){i=i[0]};if(i instanceof Node){i=Array.prototype.slice.call(i.attributes).reduce(function(t,e){t[e.name]=e.value;return t},{})}
else if(i instanceof s){i=i.getData()}
else{i=e.extend({},i)};if(!t.isPlainObject(i)){setTimeout(function(){throw new Error('Passed object is not supported: '+i)});return this};if(i&&i['class']!==void 0){this.addClass(i['class']);delete i['class']};if(a===void 0||a){this.data=t.extend(!0,{},this.data,i)}
else{this.data=t.extend({},this.data,i)};return this};s.prototype.remove=function(t){if(this.exists(t))delete this.data[t];return this};s.prototype.removeClass=function(t){var s=this.sanitizeClasses(Array.prototype.slice.apply(arguments));this.data['class']=e.without(this.getClasses(),s);return this};s.prototype.replaceClass=function(t,s){var i=this.getClasses(),a=e.indexOf(this.sanitizeClasses(t),i);if(a>=0){i[a]=s;this.set('class',i)};return this};s.prototype.sanitizeClasses=function(t){return e.chain(Array.prototype.slice.call(arguments)).flatten().map(function(t){return t.split(' ')}).flatten().filter().map(function(t){return s.cleanClass(t)}).uniq().value()};s.prototype.set=function(e,s){var i=t.isPlainObject(e)?e:{};if(typeof e==='string'){i[e]=s};return this.merge(i)};s.cleanClass=function(t,e){e=e||{' ':'-','_':'-','/':'-','[':'-',']':''};t=t.toLowerCase();if(e['__']===void 0){t=t.replace('__','#DOUBLE_UNDERSCORE#',t)};t=t.replace(Object.keys(e),Object.keys(e).map(function(t){return e[t]}),t);if(e['__']===void 0){t=t.replace('#DOUBLE_UNDERSCORE#','__',t)};t=t.replace(/[^\u002D\u0030-\u0039\u0041-\u005A\u005F\u0061-\u007A\u00A1-\uFFFF]/g,'');t=t.replace(['/^[0-9]/','/^(-[0-9])|^(--)/'],['_','__'],t);return t};s.create=function(t){return new s(t)};window.Attributes=s})(window.jQuery,window._);
/* Source and licensing information for the above line(s) can be found at http://magellantutoring.com/themes/bootstrap/js/attributes.js. */