/* Source and licensing information for the line(s) below can be found at http://www.magellantutoring.com/core/misc/tableresponsive.js. */
(function(e,t,l){function i(i){this.table=i;this.$table=e(i);this.showText=t.t('Show all columns');this.hideText=t.t('Hide lower priority columns');this.$headers=this.$table.find('th');this.$link=e('<button type="button" class="link tableresponsive-toggle"></button>').attr('title',t.t('Show table cells that were hidden to make the table fit within a small screen.')).on('click',e.proxy(this,'eventhandlerToggleColumns'));this.$table.before(e('<div class="tableresponsive-toggle-columns"></div>').append(this.$link));e(l).on('resize.tableresponsive',e.proxy(this,'eventhandlerEvaluateColumnVisibility')).trigger('resize.tableresponsive')};t.behaviors.tableResponsive={attach:function(t,l){var n=e(t).find('table.responsive-enabled').once('tableresponsive');if(n.length){var a=n.length;for(var s=0;s<a;s++){i.tables.push(new i(n[s]))}}}};e.extend(i,{tables:[]});e.extend(i.prototype,{eventhandlerEvaluateColumnVisibility:function(e){var i=parseInt(this.$link.data('pegged'),10),t=this.$headers.filter('.priority-medium:hidden, .priority-low:hidden').length;if(t>0){this.$link.show().text(this.showText)};if(!i&&t===0){this.$link.hide().text(this.hideText)}},eventhandlerToggleColumns:function(t){t.preventDefault();var i=this,s=this.$headers.filter('.priority-medium:hidden, .priority-low:hidden');this.$revealedCells=this.$revealedCells||e();if(s.length>0){s.each(function(t,l){var s=e(this),n=s.prevAll('th').length;i.$table.find('tbody tr').each(function(){var t=e(this).find('td').eq(n);t.show();i.$revealedCells=e().add(i.$revealedCells).add(t)});s.show();i.$revealedCells=e().add(i.$revealedCells).add(s)});this.$link.text(this.hideText).data('pegged',1)}
else{this.$revealedCells.hide();this.$revealedCells.each(function(t,i){var n=e(this),a=n.attr('style').split(';'),h=[],o=/^display\s*:\s*none$/;for(var s=0;s<a.length;s++){var l=a[s];l.trim();var r=o.exec(l);if(r){continue};h.push(l)};n.attr('style',h.join(';'))});this.$link.text(this.showText).data('pegged',0);e(l).trigger('resize.tableresponsive')}}});t.TableResponsive=i})(jQuery,Drupal,window);
/* Source and licensing information for the above line(s) can be found at http://www.magellantutoring.com/core/misc/tableresponsive.js. */