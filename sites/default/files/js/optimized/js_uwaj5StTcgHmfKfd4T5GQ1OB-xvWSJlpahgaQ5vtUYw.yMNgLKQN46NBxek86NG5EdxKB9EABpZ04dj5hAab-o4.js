/* Source and licensing information for the line(s) below can be found at http://www.magellantutoring.com/core/modules/toolbar/js/toolbar.menu.js. */
(function(a,o,n){var t=o.url(n.path.currentPath);a.fn.drupalToolbarMenu=function(){var n={handleOpen:o.t('Extend'),handleClose:o.t('Collapse')};function l(a,o){var t=a.children('.toolbar-box').children('.toolbar-handle');o=typeof o!=='undefined'?o:!a.hasClass('open');a.toggleClass('open',o);t.toggleClass('open',o);t.find('.action').text(o?n.handleClose:n.handleOpen)};function i(o){var e=a(o.target),t=e.closest('li');l(t);var n=t.siblings().filter('.open');l(n,!1)};function r(a){if(!o.toolbar.models.toolbarModel.get('isFixed')){o.toolbar.models.toolbarModel.set('activeTab',null)};a.stopPropagation()};function s(t){var l={class:'toolbar-icon toolbar-handle',action:n.handleOpen,text:''};t.find('li > a').wrap('<div class="toolbar-box">');t.find('li').each(function(t,n){var e=a(n);if(e.children('ul.toolbar-menu').length){var i=e.children('.toolbar-box');l.text=o.t('@label',{'@label':i.find('a').text()});e.children('.toolbar-box').append(o.theme('toolbarMenuItemToggle',l))}})};function e(a,o){o=!o?1:o;var t=a.children('li').addClass('level-'+o);a=t.children('ul');if(a.length){e(a,o+1)}};function c(a){var e=a.find('a[href="'+window.location.pathname+'"]');if(e.length&&!t){t=window.location.pathname};if(t){var o=a.find('a[href="'+t+'"]').addClass('menu-item--active'),n=o.parentsUntil('.root','li').addClass('menu-item--active-trail');l(n,!0)}};return this.each(function(o){var t=a(this).once('toolbar-menu');if(t.length){t.on('click.toolbar','.toolbar-box',i).on('click.toolbar','.toolbar-box a',r);t.addClass('root');s(t);e(t);c(t)}})};o.theme.toolbarMenuItemToggle=function(a){return'<button class="'+a.class+'"><span class="action">'+a.action+'</span> <span class="label">'+a.text+'</span></button>'}})(jQuery,Drupal,drupalSettings);
/* Source and licensing information for the above line(s) can be found at http://www.magellantutoring.com/core/modules/toolbar/js/toolbar.menu.js. */